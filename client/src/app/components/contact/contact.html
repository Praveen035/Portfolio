<section class="contact-section container">
    <div class="text-center mb-5">
        <h1 class="section-title">Get In Touch</h1>
        <p class="text-muted">
            Feel free to contact me for any inquiries or opportunities
        </p>
    </div>

    <div class="row g-4">
        <!-- CONTACT FORM -->
        <div class="col-lg-7">

            <!-- Success Alert -->
            <div *ngIf="submitted" class="alert alert-success alert-dismissible fade show">
                <i class="fas fa-check-circle me-2"></i>
                Message sent successfully!
                <button type="button" class="btn-close" (click)="submitted=false"></button>
            </div>

            <!-- Error Alert -->
            <div *ngIf="error" class="alert alert-danger alert-dismissible fade show">
                {{ error }}
                <button type="button" class="btn-close" (click)="error=''"></button>
            </div>

            <form #contactForm="ngForm" (ngSubmit)="onSubmit()" class="card p-4 shadow-sm">

                <!-- Dynamic Fields -->
                <div class="mb-3" *ngFor="let field of fields">
                    <label class="form-label">
                        <i [class]="field.icon + ' me-2'"></i>{{ field.label }}
                    </label>

                    <!-- Input -->
                    <input *ngIf="field.type !== 'textarea'" [type]="field.type" class="form-control"
                        [(ngModel)]="contact[field.name]" name="{{field.name}}" required />

                    <!-- Textarea -->
                    <textarea *ngIf="field.type === 'textarea'" class="form-control" rows="6"
                        [(ngModel)]="contact[field.name]" name="{{field.name}}" required></textarea>

                    <!-- Validation Message -->
                    <small class="text-danger" *ngIf="contactForm.controls[field.name]?.invalid
                        && contactForm.controls[field.name]?.touched">
                        {{ field.label }} is required
                    </small>
                </div>

                <!-- Submit Button -->
                <button type="submit" class="btn btn-primary w-100 mt-3" [disabled]="contactForm.invalid || submitting">

                    <span *ngIf="!submitting">
                        <i class="fas fa-paper-plane me-2"></i>Send Message
                    </span>

                    <span *ngIf="submitting" class="spinner-border spinner-border-sm"></span>
                </button>
            </form>
        </div>

        <!-- CONTACT INFO -->
        <div class="col-lg-5">

            <div class="card p-4 shadow-sm mb-4">
                <h5 class="mb-3">
                    <i class="fas fa-info-circle me-2"></i>Contact Info
                </h5>

                <div *ngFor="let info of contactInfo" class="d-flex align-items-start mb-3">
                    <i [class]="info.icon + ' me-3 mt-1'"></i>
                    <div>
                        <div class="fw-semibold">{{ info.title }}</div>
                        <a *ngIf="info.link" [href]="info.link">{{ info.value }}</a>
                        <div *ngIf="!info.link">{{ info.value }}</div>
                    </div>
                </div>
            </div>

            <div class="card p-4 shadow-sm">
                <h5 class="mb-3">
                    <i class="fas fa-share-alt me-2"></i>Social
                </h5>

                <div class="d-flex gap-3">
                    <a *ngFor="let s of socialLinks" [href]="s.url" target="_blank">
                        <i [class]="s.icon + ' fa-lg'"></i>
                    </a>
                </div>
            </div>

        </div>
    </div>
</section>